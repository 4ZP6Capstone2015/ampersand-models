CONTEXT RAP
INTERFACE "Atlas (Play)" FOR Student: I[ONE]
BOX ["CONTEXT" : V[ONE*Context] BOX ["name":ctxnm,"number of RULEs":countrules,"number of relations":countdecls,"number of concepts":countcpts] 
    ,"PATTERNs" : V[ONE*Context];ctxpats
    ,"concepts" : V[ONE*Context];ctxcs
    ,"ISA-relations" : V[ONE*Context];ctxpats;ptgns 
    ,"relations" : V[ONE*Context];ctxpats;ptdcs  BOX ["relation":I, "with properties": decprps;declaredthrough] 
    ,"RULEs" : V[ONE*Context];ctxpats;ptrls;(I[Rule] /\ -I[PropertyRule])
    ]
INTERFACE "Validate" FOR Student: I[ONE]
BOX ["Click to commit and validate the next version":V[ONE*Context];savecontext
    ]
--CSS refers to most names in this interface
INTERFACE "CONTEXT files (Design / reload)" FOR Student: I[ONE]
BOX ["loaded into Atlas" : V[ONE*Context] 
    BOX ["CONTEXT":I,"source file (click to edit)":sourcefile \/ includes,"operations (click to perform)":sourcefile;applyto~]
    ,"overview of files" : V[ONE*User]
    BOX [ "open new source file" : newfile
        , "source files" : uploaded[User*AdlFile];I[AdlFile] BOX ["file name (click to edit)":I,"created at":filetime,"operations (click to perform)":applyto~]
        ]
    ]
--CSS refers to all names in this interface
INTERFACE "Extra functions"(filename,userrole) FOR Student: I[ONE]
BOX ["Export POPULATIONs to...":V[ONE*Context];savepopulation
    BOX ["file (INCLUDE only)":I[SavePopFile],"type a file name":filename]
    ,"User settings": V[ONE*User] BOX ["use role to load files":userrole]
    , "files with only POPULATIONs" : V[ONE*User];uploaded;(I[File] /\ -I[AdlFile]) BOX ["file name":I,"created at":filetime]
    ]


INTERFACE "Relation with theory (Manual)" FOR Student: I[ONE]
BOX ["introduction":V[ONE*MetaInformation];rapdescr
    ,"rule based process management":V[ONE*MetaInformation];engineimage;engineimage~ BOX ["explanation":engineexpl,"diagram": engineimage]
    ,"generate design artifacts":V[ONE*MetaInformation];genimage;genimage~ BOX ["explanation":genexpl,"diagram": genimage]
    ]

INTERFACE "CONTEXT" FOR Student: I[Context]
BOX ["name" : ctxnm 
    ,"PATTERNs" : ctxpats
    ,"concepts" : ctxcs 
    ,"ISA-relations" : ctxpats;ptgns 
    ,"relations" : ctxpats;ptdcs BOX ["relation":I, "with properties": decprps;declaredthrough]
    ,"RULEs" : ctxpats;ptrls;(I[Rule] /\ -I[PropertyRule]) 
    ]
INTERFACE "PATTERN" FOR Student: I[Pattern]
BOX ["PURPOSEs" :ptxps
    ,"name" :ptnm
    ,"RULEs" :ptrls;(I[Rule] /\ -I[PropertyRule])
    ,"relations" :ptdcs  BOX ["relation":I, "with properties": decprps;declaredthrough]
    ,"ISA-relations" :ptgns
    ,"diagram" : ptpic
    ]
INTERFACE "ISA-relation" FOR Student: I[Gen]
BOX ["SPEC" : genspc
    ,"ISA" : gengen
    ,"in PATTERN" : ptgns~
    ]
INTERFACE "Concept"(cptos,atomvalue) FOR Student: I[Concept]
BOX ["PURPOSEs" :cptpurpose
    ,"CONCEPT definition" :cptdf
    ,"name" :cptnm
    ,"more specific concepts":(genspc~;gengen \/ genspc~;gengen;genspc~;gengen \/ genspc~;gengen;genspc~;gengen;genspc~;gengen)~ --TODO closure
    ,"more generic concepts" : genspc~;gengen \/ genspc~;gengen;genspc~;gengen \/ genspc~;gengen;genspc~;gengen;genspc~;gengen   --TODO closure
    ,"POPULATION" :cptos BOX ["atom":atomvalue]
    ,"POPULATION (of more specific)":(genspc~;gengen \/ genspc~;gengen;genspc~;gengen \/ genspc~;gengen;genspc~;gengen;genspc~;gengen)~;cptos --TODO closure
    ,"used in relations": (decsgn;(src \/ trg))~
    ,"used in RULEs": (relsgn;(src \/ trg))~;(rrexp;rels)~;(I[Rule] /\ -I[PropertyRule])
    ,"diagram" : cptpic
    ]
INTERFACE Relation(decpopu,left,right) FOR Student: I[Declaration]
BOX ["PURPOSEs" :decpurpose
    ,"MEANING" :decmean
    ,"example of basic sentence" :decexample
    ,"name" :decnm
    ,"type" :decsgn BOX ["source":src , "target":trg]
    ,"properties" :decprps;declaredthrough
    ,"from PATTERN" :ptdcs~
    ,"POPULATION" :decpopu BOX ["source":left , "target":right] --select existing atoms only!
    ,"used in RULEs": (rrexp;rels;reldcl)~;(I[Rule] /\ -I[PropertyRule])
    ]
INTERFACE "RULE" FOR Student: I[Rule]
BOX ["PURPOSEs" :rrpurpose
    ,"MEANING" :rrmean
    ,"name" :rrnm
    ,"assertion" :rrexp
    ,"uses":rrexp;rels BOX ["relation":reldcl, "with properties": reldcl;decprps;declaredthrough, "source":relsgn;src, "target":relsgn;trg]
    ,"in PATTERN":ptrls~
    ,"diagram" : rrpic
    ]
ENDCONTEXT


