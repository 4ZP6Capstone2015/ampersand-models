CONTEXT Try6

PATTERN Try6
RELATION r[X*Y]
RELATION s[X*A]
RELATION t[B*Y]
RELATION u[E*Y]
RULE r = s!(t\/u)
CLASSIFY D=(A\/B)\/E
CLASSIFY F=B\/E
CLASSIFY G=A\/B
-- was:  RULE I[D] = (I[A]\/I[B])\/I[E]
--       RULE I[F] = I[B]\/I[E]
--       RULE I[G] = I[A]\/I[B]
ENDPATTERN

ENDCONTEXT

{-
   Purpose: This is an attempt to mislead the type checker, by
            choosing a different source and target for t and u.
   Result: PASS
-- Reason: cod s and dom(t\/u) are in conflict (concepts B and E), but rule r1 provides an intersection type (concept F) to resolve that.
           now s~ is in conflict with t\/u (A is not F). However, it can be proven that A\/F=D,
           so the type checker must conclude that cod s and dom(t\/u) can be matched in concept D.
           The "mischief" is in the attempt to refer to F indirectly.

Proof:
   A\/F=D
= {rule 0:  D = (A\/B)\/E}
   A\/F=(A\/B)\/E
= {rule 1:  F=B\/E}
   A\/(B\/E)=(A\/B)\/E
= {\/ is associative}
   True

-}