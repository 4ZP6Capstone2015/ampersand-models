CONTEXT Bugs

rel :: A*B []
  = [ ("a1", "b1"); ("a1", "b2"); ("a2", "b1"); ("a2", "b2")]
    
RULE singletonBug1 : 'a1'[A]         -- fixed: yields a1a1
RULE singletonBug2 : 'a1'; rel; 'b1' -- yields a1b1 a1b2 a2b1 a2b2 instead of just a1b2

ENDCONTEXT