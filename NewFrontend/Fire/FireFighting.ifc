CONTEXT "Fire Fighting Interfaces" IN ENGLISH

INTERFACE "OVERVIEW": I[SESSION];'_SESSION'
TABS[ "Fire detectors" : V[SESSION*FireDetector]
    , "Fire Doors" : V[SESSION*FireDoor]
    ]

INTERFACE "[OVERVIEW]": V[ONE*SESSION];'_SESSION'
TABS[ "Fire detectors" : V[SESSION*FireDetector]
    , "Fire Doors" : V[SESSION*FireDoor]
    , "Locations" : V[SESSION*Location]
    ]

VIEW FireDetectors: FireDetector(fdetID)
INTERFACE "Fire Detector" : I[FireDetector]
COLS[ "ID" : fdetID
    , "Coordinate pair" : fdetCPair INTERFACE "Coordinate Pair"
    , "Detects fire?" : fdetDetectsFire;V;'TRUE'[BOOL] \/ (I /\ -fdetDetectsFire);V;'FALSE'[BOOL]
    ]

VIEW CoordinatePairs: CoordinatePair(TXT "(X=", cpairX ,TXT ", Y=", cpairX ,TXT ", Z=", cpairZ ,TXT ")")
INTERFACE "Coordinate Pair" : I[CoordinatePair]
COLS[ "X (integer)" : cpairX
    , "Y (integer)" : cpairY
    , "Deck number" : cpairZ
    , "in location" : cpairLocation
    , "between locations" : cpairSeparatesLocation
    ]

VIEW FireDoors: FireDoor(fdoorID)
INTERFACE "Fire Door" : I[FireDoor]
COLS[ "ID" : fdoorID
    , "Coordinate pair" : fdoorCPair INTERFACE "Coordinate Pair"    
    , "Locations" : fdoorIsRelevantForLocation
    , "Can close itself?" : fdoorCanCloseItself
    , "Door status" : fdoorStatus
    ]

VIEW Locations: Location(locationID)
INTERFACE "Location" : I[Location]
COLS[ "ID" : locationID
    , "Harbours coordinate pairs" : cpairLocation~
    , "Adjacent locations" : -I /\ cpairSeparatesLocation~;cpairSeparatesLocation
    , "Fire detectors" : cpairLocation~;fdetCPair~
    , "Fire doors" : fdoorIsRelevantForLocation~
    ]

ENDCONTEXT 