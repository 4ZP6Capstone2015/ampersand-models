CONTEXT DTV IN DUTCH LATEX
INCLUDE "Referentielijsten.adl"
INCLUDE "Pcodes.adl"

INTERFACE "Beheer ReferentielijstenDTV"
 ( refLijstPcodes, pCodeRubriek, pCodeRubriek, invoer, opmerking
 , cat, refLijstUrenpoolsoorten,refLijstMedewerkerRecht, grond)
 FOR FAB : I[ONE]
BOX [ Urenpoolsoorten : V[ONE*Referentielijst];'Urenpoolsoorten'
      BOX [ "" : refLijstUrenpoolsoorten ]
    , PDirektCodes : V[ONE*Referentielijst];'PDirektCode'
      BOX [ "" : refLijstPcodes
                 BOX [ "" : pCodeNaam , rubriek : pCodeRubriek, invoer : invoer, opmerking : opmerking ]
          ]
    , "Toelagen en Toeslagen" : V[ONE*Referentielijst];'MedewerkerRecht'
      BOX [ "recht op" : refLijstMedewerkerRecht
            ,"" : refLijstMedewerkerRecht
                 BOX ["" : I[Recht], "Rechtsgrond" : grond ]
          ]
    ]

PATTERN ReferentielijstenDTV
PURPOSE PATTERN ReferentielijstenDTV
{+Omdat de DTV-applicatie de administratie voert van rechten en P-Direkt codes genereert,
worden de bijbehorende referentielijsten binnen DTV beheerd.
-}

RELATION refLijstPcodes[Referentielijst*PDirektCode]
POPULATION refLijstPcodes CONTAINS
   [ ("PDirektCode", "8301")
   ; ("PDirektCode", "8311")
   ; ("PDirektCode", "8321")
   ; ("PDirektCode", "8401")
   ; ("PDirektCode", "8411")
   ; ("PDirektCode", "8421")
   ; ("PDirektCode", "8431")
   ; ("PDirektCode", "8441")
   ; ("PDirektCode", "8451")
   ; ("PDirektCode", "8K61")
   ; ("PDirektCode", "0235")
   ; ("PDirektCode", "8341")
   ; ("PDirektCode", "8351")
   ; ("PDirektCode", "8361")
   ; ("PDirektCode", "8371")
   ; ("PDirektCode", "8381")
   ; ("PDirektCode", "8391")
   ; ("PDirektCode", "0301")
   ; ("PDirektCode", "8331")
   ]

RULE inRefLijstPcodes : I[PDirektCode] |- refLijstPcodes~;refLijstPcodes
MEANING "Elke PDirektCode dient in een referentielijst voor te komen"
MESSAGE "Elke PDirektCode dient in de referentielijst van PDirektCodes voor te komen:"
VIOLATION (TXT "De PDirektCode \"", TGT I, TXT "\" is niet bekend in dit systeem.")

RELATION pCodeNaam[PDirektCode*Naam] [UNI,TOT]
POPULATION pCodeNaam CONTAINS
   [ ("8301", "8301")
   ; ("8311", "8311")
   ; ("8321", "8321")
   ; ("8401", "8401")
   ; ("8411", "8411")
   ; ("8421", "8421")
   ; ("8431", "8431")
   ; ("8441", "8441")
   ; ("8451", "8451")
   ; ("8K61", "8K61")
   ; ("0235", "0235")
   ; ("8341", "8341")
   ; ("8351", "8351")
   ; ("8361", "8361")
   ; ("8371", "8371")
   ; ("8381", "8381")
   ; ("8391", "8391")
   ; ("0301", "0301")
   ; ("8331", "8331")
   ]

RELATION refLijstUrenpoolsoorten[Referentielijst*Urenpoolsoort]
POPULATION refLijstUrenpoolsoorten CONTAINS
   [ ("Urenpoolsoorten", "Overwerkverlof")            -- was: Vakantiedagen
   ; ("Urenpoolsoorten", "Persoonlijke meeruren")     -- was: Compensatie
   ]

RULE inRefLijstUrenpoolsoort : I[Urenpoolsoort] |- refLijstUrenpoolsoorten~;refLijstUrenpoolsoorten
MEANING "Elke urenpoolsoort dient in een referentielijst voor te komen"
MESSAGE "Elke urenpoolsoort dient in de referentielijst van urenpoolsoorten voor te komen:"
VIOLATION (TXT "Urenpoolsoort \"", TGT I, TXT "\" is niet bekend in dit systeem.")

{-
RELATION refLijstMedewerkerRecht[Referentielijst*Recht]    -- nu in Fatijdec
POPULATION refLijstMedewerkerRecht CONTAINS
   [ ("MedewerkerRecht", "Bandtoelage")
   ; ("MedewerkerRecht", "Toelage onregelmatige dienst")
   ; ("MedewerkerRecht", "Ambulant")
   ; ("MedewerkerRecht", "Beschikbaarheidsuren")
   ; ("MedewerkerRecht", "Verschovenuren")
   ; ("MedewerkerRecht", "Overwerk uitbetalen")
   ; ("MedewerkerRecht", "Aflopende toelage")
   ]
-}

RELATION grond[Recht*Wetsartikel] [UNI]
POPULATION grond CONTAINS
   [ ("Waarnemingstoelage", "BBRA Artikel 14")
   ; ("Toelage garantie minimumloon", "BBRA Artikel 16")
   ; ("Toelage bezwarende omstandigheden", "BBRA Artikel 17b")
   ; ("Toelage afbouw onregelmatige dienst", "BBRA Artikel 18")
   ; ("Vaste toelage bereik- en beschikbaarheidsdienst", "BBRA Artikel 18a")
   ; ("Vaste toelage onregelmatige dienst", "BBRA Artikel 17 lid 4+7")
   ; ("Aflopende toelage", "BBRA Artikel 18b")
   ; ("Periodieke (of eenmalige) toeslag", "BBRA Artikel 22a")
   ; ("Toelage t.g.v ziekte", "ARAR Artikel 37a + 37b")
   ; ("Toelage t.g.v afgesproken salarisgarantie", "SJB 2008-2012")
   ]
ENDPATTERN

ENDCONTEXT
