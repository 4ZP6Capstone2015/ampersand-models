CONTEXT DTV IN DUTCH

PATTERN Gebeurtenissen
PURPOSE PATTERN Gebeurtenissen
{+De duur van werkzaamheden wordt soms in hele dagen, en soms in tijdstippen geregistreerd.
Om deze reden hanteert DTV het concept ``datumtijd'', wat een combinatie is van datum en tijdstip.
-}
PURPOSE CONCEPT DatumTijd
{+In sommige gevallen worden dag en datum los weergegeven, en in andere gevallen in combinatie.
Om die reden gebruikt DTV het concept datumtijd.
-}
CONCEPT DatumTijd "Een datumtijd is de combinatie van datum en tijdstip, waarmee een tijdstip volledig kan worden weergegeven."
PURPOSE CONCEPT Periode
{+Tijd wordt geregistreerd in periodes. Dat geldt voor tijdregistraties, maar ook voor diensten en ander aaneengesloten tijdspannes die tussen twee tijdstippen zijn bepaald.
-}
CONCEPT Periode "Een periode is de tijd die verloopt tussen twee tijdstippen."
PURPOSE CONCEPT Dagperiode
{+Soms wordt een periode niet tussen twee tijdtippen, maar tussen twee dagen gedefinieerd.
Dat geldt bijvoorbeeld voor betaalperiodes en vakantieperiodes.
Hiervoor gebruiken we het begrip dagperiode.
-}
CONCEPT Dagperiode "Een dagperiode is een aaneengesloten periode van een geheel aantal dagen."

RELATION date[DatumTijd*Datum] PRAGMA "" " heeft als datum "
MEANING "Een DatumTijd heeft een datum"
PURPOSE RELATION date[DatumTijd*Datum]
{+
-}
RELATION time[DatumTijd*Tijdstip] PRAGMA "" " heeft als tijdstip "
MEANING "Een DatumTijd heeft een tijdstip"
PURPOSE RELATION time[DatumTijd*Tijdstip]
{+
-}
RELATION begin[Periode*DatumTijd] [UNI]  PRAGMA "" " begint op " ""
MEANING "Het begin van een periode kan met datum en tijdstip worden geregistreerd."
RELATION begindatum[Periode*Datum] [UNI] PRAGMA "" " heeft als begindatum " ""  -- 
MEANING "Van elke periode wordt een begindatum geregistreerd."
RELATION begintijd[Periode*Tijdstip] [UNI] PRAGMA "" " heeft als begintijdstip " ""  -- [UNI,TOT]
MEANING "Van elke periode wordt een begintijdstip geregistreerd."
RELATION eind[Periode*DatumTijd] [UNI] PRAGMA "" " eindigt op " "" -- [UNI,TOT]
MEANING "Het einde van een periode kan met datum en tijdstip worden geregistreerd." -- 
RELATION einddatum[Periode*Datum] [UNI] PRAGMA "" " heeft als einddatum " ""  -- 
MEANING "Van elke periode wordt een einddatum geregistreerd."
RELATION eindtijd[Periode*Tijdstip] [UNI] PRAGMA "" " heeft als eindtijdstip " ""  -- [UNI,TOT]
MEANING "Van elke periode wordt een eindtijdstip geregistreerd."
RELATION tijdsduur[Periode*Tijdsduur] [UNI] PRAGMA "" " heeft een tijdsduur van "
MEANING "De tijdsduur van een periode wordt geregistreerd."
PURPOSE RELATION tijdsduur[Periode*Tijdsduur] REF "Informatieanalyse 'Duurzaam Tijdverantwoorden' versie 5.0"
{+Om te kunnen rekenen met tijdstippen en tijdsduren, registreert een periode ook een tijdsduur.
Hiervoor geldt dat begintijdstip$+$duur$=$eindtijdstip.
-}


--PURPOSE RELATION berekening[Periode*Optelling]
--{+Om periodes gemakkelijk in te vullen, mag een gebruiker twee van de drie velden invullen: begintijd, eindtijd en tijdsduur.
--Het derde veld wordt door het systeem uit de overige twee afgeleid.
---}
--RELATION berekening[Periode*Optelling]
--RULE tijdconsistentie : berekening |- begintijd;l~ /\ eindtijd;som~ /\ duur;r~
--MEANING "Het eindtijdstip is gelijk aan de som van het begintijdstip en de tijdsduur."


PURPOSE RELATION overlap[Periode*Periode]
{+Om te voorkomen dat uren dubbel worden goedgekeurd (en dus dubbel uitgekeerd), dient het systeem overlap in tijd te kunnen signaleren.
Om die reden maakt het begrip ``overlap'' deel uit van het vocabulaire.
-}
RELATION overlap[Periode*Periode]
MEANING "Een overlap in tijd tussen twee periodes wordt in deze relatie gesignaleerd. Dit wordt berekend door het systeem."
ENDPATTERN


ENDCONTEXT