CONTEXT NVWA_ExecEngineBerekeningen IN DUTCH
{---------------------------------------------------------------------
   Dates in the m/d/y or d-m-y formats are disambiguated by looking
   at the separator between the various components: if the separator
   is a slash (/), then the American m/d/y is assumed; whereas if
   the separator is a dash (-) or a dot (.), then the European 
   d-m-y format is assumed.
---------------------------------------------------------------------}
PROCESS "Datum- en tijdsberekeningen"

--$ Ik heb de tekst uit Stef's mailtje letterlijk overgenomen Mijn eigen toevoegingen staan als stappen in het vinden van een oplossing herkenbaar. De tekst '-- Klaar.' geeft aan waar mijn spul ophoudt.
RELATION geqDatum[Datum*Datum]
-- geqDatum  : de groter-dan-of-gelijk operatie op data (>=)
-- Stap 1: Zorgen dat 'geqDatum' bestaat voor de betreffende data
-- De Botte Oplossing: we zorgen ervoor dat dit voor alle paren (Datum1,Datum2) is gecheckt:
-- Omdat dit een goeie positie is om alle andere Datum-relaties te populeren, nemen we die meteen mee
ROLE ExecEngine MAINTAINS "Bereken geqDatum"
-- Met deze regel pakken we alle paren (D1,D2) waarbij D1 of D2 niet eerder was geprocest.
RULE "Bereken geqDatum": V[Datum] |- geqDatum
VIOLATION (TXT "{EX} dateGEQ;geqDatum;Datum;", SRC I, TXT ";", TGT I)
-- Klaar.

RELATION geqTijdstip[Tijdstip*Tijdstip]
-- geqTijdstip  : de groter-dan-of-gelijk operatie op tijdstippen (>=)
-- Stap 1: Zorgen dat 'geqTijdstip' bestaat voor de betreffende tijdstippen
ROLE ExecEngine MAINTAINS "Bereken geqTijdstip"
-- Met deze regel pakken we alle paren (T1,T2) waarbij T1 of T2 niet eerder was geprocest.
RULE "Bereken geqTijdstip": V[Tijdstip] |- geqTijdstip
VIOLATION (TXT "{EX} timeofdayGEQ;geqTijdstip;Tijdstip;", SRC I, TXT ";", TGT I)
-- Klaar.


ENDPROCESS

ENDCONTEXT
